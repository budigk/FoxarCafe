<%- include('partials/header', {title: 'Menus'}) %>
<div class="container p-3 my-3 border">
    <h2>Menus : <%= options %> Data </h2>
    <form method="POST">
    <div class="mb-3">
        <label for="menu_name" class="form-label">Menu Name</label>
        <input type="text" class="form-control" id="menu_name" name="menu_name" placeholder="e.g: Pizza Meat Lover" required value="<%= data.menu_name %>">
    </div>
    <div class="mb-3">
        <label for="category_name" class="form-label">Category</label>
        <select id="category_id" name="category_id" class="form-control">
            <option value="0">== Select Category ==</option>    
            <% category.forEach(el => { %>
                <option value="<%= el.id %>" <%=el.id == data.category_id?"selected":""%>><%= el.category_name %></option>    
            <%}); %>
        </select>
    </div>
    <div class="mb-3">
        <label for="price" class="form-label">Price</label>
        <input type="number" class="form-control" id="price" name="price" placeholder="e.g: 10000" required value="<%= data.price %>">
    </div>
    <div class="mb-3">
        <label for="image_url" class="form-label">Image Url</label>
        <input type="url" class="form-control" id="image_url" name="image_url" placeholder="" required value="<%= data.image_url %>">
    </div>
    <button type="submit" class="btn btn-primary"><%= options=="Entri"?"Add Data":"Update"%></button>
    <a href="/menus" class="btn btn-danger" role="button">Cancel</a>
  </form>
</div>

  <div class="container mb-5 mt-3">
    <div class="row">
      <div class="col-12">
        <table class="table table-striped table-bordered" style="width: 100%;">
          <thead>
            <tr>
              <th  class="col-md-auto">No.</th>
              <th>Menu Name</th>
              <th>Category</th>
              <th>Price</th>
              <th>Image URL</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <% results.forEach((el, no) => { %>
                <tr>
                    <td class="col-md-auto"><%= no + 1 %></td>
                    <td><%= el.menu_name %></td>
                    <td><%= el.Category.category_name %></td>
                    <td><%= formatNumber(el.price, "money") %></td>
                    <td><%= el.image_url %></td>
                    <td>
                        <a href="/menus/edit/<%= el.id  %>" class="btn btn-success" role="button"><i class="fa fa-edit"></i></a>
                        <a href="/menus/delete/<%= el.id  %>" class="btn btn-danger" role="button"><i class="fa fa-trash"></i></a>
                    </td>
                </tr>
            <% }); %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
<%- include('partials/footer') %>